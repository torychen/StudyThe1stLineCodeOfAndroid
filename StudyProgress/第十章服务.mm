<map version="0.8.1">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
<node COLOR="#000000" CREATED="1541584551779" ID="Freemind_Link_1502398158" MODIFIED="1541584583426" TEXT="&#x7b2c;&#x5341;&#x7ae0;&#x670d;&#x52a1;">
<edge COLOR="#009999" WIDTH="4"/>
<node COLOR="#000000" CREATED="1541584566779" ID="_" MODIFIED="1541646287241" POSITION="right" TEXT="&#x670d;&#x52a1;&#x662f;&#x7a0b;&#x5e8f;&#x540e;&#x53f0;&#x8fd0;&#x884c;&#x7684;&#x65b9;&#x6cd5;&#xff0c;&#xa;&#x4ed6;&#x975e;&#x5e38;&#x9002;&#x5408;&#x53bb;&#x6267;&#x884c;&#x90a3;&#x4e9b;&#x4e0d;&#x9700;&#x8981;&#x548c;&#x7528;&#x6237;&#x4ea4;&#x4e92;&#x800c;&#x957f;&#x671f;&#x6267;&#x884c;&#x7684;&#x4efb;&#x52a1;&#x3002;&#xa;&#x670d;&#x52a1;&#x7684;&#x8fd0;&#x884c;&#x4e0d;&#x4f9d;&#x8d56;&#x4e0e;&#x4efb;&#x4f55;&#x7528;&#x6237;&#x754c;&#x9762;&#x3002;&#xa;&#xa;&#x670d;&#x52a1;&#x4f9d;&#x8d56;&#x4e8e;&#x521b;&#x5efa;&#x5b83;&#x7684;&#x5e94;&#x7528;&#x7a0b;&#x5e8f;&#xff0c;&#x5f53;&#x5e94;&#x7528;&#x7a0b;&#x5e8f;&#x88ab;&#x6740;&#x6389;&#x540e;&#xff0c;&#x670d;&#x52a1;&#x4e5f;&#x4f1a;&#x505c;&#x6b62;&#x8fd0;&#x884c;&#x3002;&#xa;&#xa;&#x670d;&#x52a1;&#x4e0d;&#x4f1a;&#x81ea;&#x52a8;&#x5f00;&#x542f;&#x5b50;&#x7ebf;&#x7a0b;&#xff0c;&#x9700;&#x8981;&#x7a0b;&#x5e8f;&#x5458;&#x624b;&#x52a8;&#x521b;&#x5efa;&#x5b50;&#x7ebf;&#x7a0b;&#x3002;" VSHIFT="44">
<edge COLOR="#009999" WIDTH="4"/>
</node>
<node CREATED="1541643240277" ID="Freemind_Link_1596893932" MODIFIED="1541644014000" POSITION="right" TEXT="&#x5b9a;&#x4e49;&#x670d;&#x52a1;&#xa;&#x53f3;&#x952e;&#xff0c; new service&#x3002; Export = true&#xff0c;&#x8868;&#x660e;&#x5176;&#x5b83;&#x5e94;&#x7528;&#x7a0b;&#x5e8f;&#x53ef;&#x4ee5;&#x8bbf;&#x95ee;&#x8be5;&#x670d;&#x52a1;&#x3002;&#xa;&#xa;&#x7ee7;&#x627f; Service&#xff0c; &#x91cd;&#x5199; onBind&#xff08;&#xff09;&#x65b9;&#x6cd5;&#xa;&#xa;&#x5e38;&#x7528;&#x65b9;&#x6cd5;&#xa;1. onCreate&#xff08;&#xff09; &#x670d;&#x52a1;&#x88ab;&#x521b;&#x5efa;&#x65f6;&#x8c03;&#x7528;&#xff0c;&#x53ea;&#x8c03;&#x7528;&#x4e00;&#x6b21;&#x3002;&#xa;2. onStartCommand&#xff08;&#xff09; &#x670d;&#x52a1;&#x542f;&#x52a8;&#x65f6;&#x6267;&#x884c;&#xff0c;&#x4f1a;&#x88ab;&#x91cd;&#x590d;&#x8c03;&#x7528;&#xa;3. onDestory&#xff08;&#xff09; &#x670d;&#x52a1;&#x88ab;&#x9500;&#x6bc1;&#x65f6;&#x521b;&#x5efa;&#xa;&#xa;stopSelf&#xff08;&#xff09; &#x670d;&#x52a1;&#x505c;&#x6b62;&#x81ea;&#x5df1;&#x3002;&#xa;&#xa;&#x6e05;&#x5355;&#x6587;&#x4ef6;&#x6ce8;&#x518c;" VSHIFT="38"/>
<node CREATED="1541643808581" ID="Freemind_Link_967295553" MODIFIED="1541643876267" POSITION="right" TEXT="&#x7528; Intent &#x542f;&#x52a8;&#xff0c;&#x505c;&#x6b62;&#x670d;&#x52a1;&#xa;Intent startIntent = new Intent(this, MyService.class);&#xa;startService(startIntent); // &#x542f;&#x52a8;&#x670d;&#x52a1;&#xa;&#xa;Intent stopIntent = new Intent(this, MyService.class);&#xa;stopService(stopIntent); // &#x505c;&#x6b62;&#x670d;&#x52a1;&#xa;&#xa;Intent bindIntent = new Intent(this, MyService.class);&#xa;bindService(bindIntent, connection, BIND_AUTO_CREATE); // &#x7ed1;&#x5b9a;&#x670d;&#x52a1;&#xa;&#xa;unbindService(connection); // &#x89e3;&#x7ed1;&#x670d;&#x52a1;" VSHIFT="34"/>
<node CREATED="1541644049594" HGAP="24" ID="Freemind_Link_1217259904" MODIFIED="1541666452064" POSITION="right" TEXT="&#x6d3b;&#x52a8;&#x4e0e;&#x670d;&#x52a1;&#x4ea4;&#x4e92;-Binder &#x5bf9;&#x8c61;&#xa;&#xa;&#x7ee7;&#x627f; Binder &#x7c7b;&#xff0c;&#x63d0;&#x4f9b;&#x7528;&#x6237;&#x9700;&#x8981;&#x7684;&#x63a5;&#x53e3;&#x3002;&#xa;&#xa;onBind&#xff08;&#xff09;&#x65f6;&#xff0c;&#x4ece;&#x670d;&#x52a1;&#x8fd4;&#x56de;&#x8fd9;&#x4e2a; Binder &#x7684;&#x5b9e;&#x4f8b;&#x5230; &#x6d3b;&#x52a8;&#xa;&#xa;&#x6d3b;&#x52a8;&#x8c03;&#x7528; Binder &#x63d0;&#x4f9b;&#x7684;&#x63a5;&#x53e3;&#x3002;&#xa;&#xa;bindService(bindIntent, connection, BIND_AUTO_CREATE); &#xa;&#x4e09;&#x4e2a;&#x53c2;&#x6570;&#xff1a;&#xa;Intent&#xff0c; ServiceConnection&#xff0c; flag&#x3002;&#xa;&#xa;&#x7ed1;&#x5b9a;&#x670d;&#x52a1;&#xff0c; &#x4f1a;&#x56de;&#x8c03; Service.onBind&#xff08;&#xff09;&#xa;&#xa;&#xa;" VSHIFT="77"/>
<node CREATED="1541645236949" ID="Freemind_Link_1327765950" MODIFIED="1541645244473" POSITION="right" TEXT="&#x751f;&#x547d;&#x5468;&#x671f;" VSHIFT="46">
<node CREATED="1541645248927" ID="Freemind_Link_97110257" MODIFIED="1541645729935" TEXT="&#x5e94;&#x7528;&#x7a0b;&#x5e8f;&#x7684;&#x4efb;&#x4f55;&#x4f4d;&#x7f6e;&#x8c03;&#x7528; Context.startService&#xff08;&#xff09;&#xff0c; &#x670d;&#x52a1;&#x88ab;&#x542f;&#x52a8;&#x3002;&#xa;&#xa;Service.onCreate&#xff08;&#xff09;&#x7b2c;&#x4e00;&#x6b21;&#x8c03;&#x7528;&#x65f6; &#xa;&#xa;Service.onStartCommand&#xff08;&#xff09;&#xa;&#xa;Context.stopService&#xff08;&#xff09;&#x6216; stopSelf&#xff08;&#xff09;&#xff0c;&#xa; &#x670d;&#x52a1;&#x505c;&#x6b62;&#xff0c; Service.onDestory&#xff08;&#xff09;&#x88ab;&#x8c03;&#x7528;&#xa;&#xa;&#x6ce8;&#x610f;&#xff1a; &#x5982;&#x679c;&#x5148;&#x540e;&#x8c03;&#x7528;&#x4e86; startService() bindService() &#xa;&#x5219;&#x5fc5;&#x987b;&#x4e5f;&#x8c03;&#x7528;stopService&#xff08;&#xff09;&#xff0c; unbindService&#xff08;&#xff09; &#x624d;&#x53ef;&#x4ee5;&#x505c;&#x6b62;&#x670d;&#x52a1;&#x3002;&#xa;"/>
</node>
<node CREATED="1541645748789" ID="Freemind_Link_354430827" MODIFIED="1541646425561" POSITION="right" TEXT="&#x524d;&#x53f0;&#x670d;&#x52a1;" VSHIFT="86">
<node CREATED="1541645817509" ID="Freemind_Link_1497706952" MODIFIED="1541645915336" TEXT="&#x540e;&#x53f0;&#x670d;&#x52a1;&#x7531;&#x4e8e;&#x4f18;&#x5148;&#x7ea7;&#x4f4e;&#x7684;&#x95ee;&#x9898;&#xff0c;&#x5f53;&#x5185;&#x5b58;&#x4e0d;&#x8db3;&#x65f6;&#xff0c;&#x53ef;&#x80fd;&#x88ab;&#x7cfb;&#x7edf;&#x56de;&#x6536;&#x6389;&#x3002;&#xa;&#x3010;&#x600e;&#x6837;&#x907f;&#x514d;&#xff0c; &#x5982;&#x679c;&#x56de;&#x6536;&#x4e86;&#xff0c; &#x4f7f;&#x7528;&#x670d;&#x52a1;&#x5e94;&#x7528;&#x7a0b;&#x5e8f;&#x4f1a;&#x5d29;&#x6e83;&#x5417;&#xff1f;&#x3011;&#xa;&#xa;"/>
<node CREATED="1541645917162" ID="Freemind_Link_250831158" MODIFIED="1541646115167" TEXT="&#x524d;&#x53f0;&#x670d;&#x52a1;&#x5728;&#x901a;&#x77e5;&#x680f;&#x4f1a;&#x59cb;&#x7ec8;&#x6709;&#x4e00;&#x4e2a;&#x56fe;&#x6807;&#x3002;&#xa;&#x5728;Service.onCreate&#xff08;&#xff09; &#x91cc;&#x5b9a;&#x4e49;&#x4e86;&#x4e00;&#x4e2a;&#xa;Notification&#xff0c;&#x7136;&#x540e;&#x4e0d;&#x4f7f;&#x7528; NotificationManger &#x800c;&#x662f;&#xa;&#x8c03;&#x7528; startForeground&#x3002;&#xa;&#xa;&#x3010;&#x6ca1;&#x660e;&#x767d;&#x3011;"/>
</node>
<node CREATED="1541646142354" ID="Freemind_Link_285281217" MODIFIED="1541646455800" POSITION="right" TEXT="IntentService&#xa;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x5f02;&#x6b65;&#xff0c;&#x53ef;&#x4ee5;&#x81ea;&#x52a8;&#x505c;&#x6b62;&#x7684;&#x670d;&#x52a1;&#x3002;" VSHIFT="41">
<node CREATED="1541646460045" ID="Freemind_Link_594501552" MODIFIED="1541646726592" TEXT="MyIntentService &#x7ee7;&#x627f; IntentService&#xff0c;&#xa;&#x5fc5;&#x987b;&#x63d0;&#x4f9b; &#x516c;&#x6709;&#xff0c;&#x65e0;&#x53c2;&#x6784;&#x9020;&#x51fd;&#x6570;&#x3010;&#x9ed8;&#x8ba4;&#x6784;&#x9020;&#x51fd;&#x6570;&#x3011;&#xff0c;&#x4e14;&#x5fc5;&#x987b;&#x8c03;&#x7528;&#x8d85;&#x7c7b;&#x6709;&#x53c2;&#x6784;&#x9020;&#x51fd;&#x6570;&#xa;MyIntentService extend IntentService&#xa;{&#xa; MyIntentService&#xff08;&#xff09; {super&#xff08;string&#xff09;}&#xa;}&#xa;&#xa;&#x91cd;&#x5199; onHandleIntent&#xff08;&#xff09;&#x65b9;&#x6cd5;&#x3002;&#xa;&#xa;&#xa;"/>
</node>
<node CREATED="1541646785374" ID="Freemind_Link_850702704" MODIFIED="1541666505869" POSITION="right" TEXT="&#x4f8b;&#x5b50;&#xff1a;&#x4e0b;&#x8f7d;&#x6587;&#x4ef6;" VSHIFT="74">
<icon BUILTIN="bookmark"/>
</node>
<node CREATED="1541646280987" ID="Freemind_Link_1688695205" MODIFIED="1541646283821" POSITION="left" TEXT="&#x95ee;&#x9898;">
<node CREATED="1541641406763" HGAP="23" ID="Freemind_Link_1356682897" MODIFIED="1541641443124" TEXT="Looper &#x548c; Handler&#x7684;&#x5173;&#x7cfb;&#xff1f;&#xa;Looper.loop() &#x4e3a;&#x4ec0;&#x4e48;&#x4e0d;&#x4f1a;&#x963b;&#x585e;&#x7ebf;&#x7a0b;&#xff1f;" VSHIFT="20"/>
<node CREATED="1541646288984" HGAP="30" ID="Freemind_Link_408345251" MODIFIED="1541667368368" TEXT="&#x670d;&#x52a1;&#x5f00;&#x542f;&#x4e86;&#x5b50;&#x7ebf;&#x7a0b;&#x3002;&#x5982;&#x679c;&#x670d;&#x52a1;&#x505c;&#x6b62;&#x4e86;&#xff0c;&#x5b50;&#x7ebf;&#x7a0b;&#x4f1a;&#x88ab;&#x505c;&#x6b62;&#x5417;&#xff1f;A &#x4e0d;&#x4f1a;&#x3002;" VSHIFT="50"/>
<node CREATED="1541646330560" ID="Freemind_Link_237979908" MODIFIED="1541667354531" TEXT="&#x5b50;&#x7ebf;&#x7a0b;&#x9000;&#x51fa;&#x4e86;&#xff0c;&#x670d;&#x52a1;&#x4f1a;&#x9000;&#x51fa;&#x5417;&#xff1f;&#xa;A &#x4e0d;&#x4f1a;&#xff0c;&#x670d;&#x52a1;&#x9000;&#x51fa;&#x5fc5;&#x987b;&#x662f;&#x8c03;&#x7528;stopSelf&#xff08;&#xff09; &#x6216;&#x8005; stopService" VSHIFT="27"/>
<node CREATED="1541646730725" ID="Freemind_Link_781144392" MODIFIED="1541646758817" TEXT="&#x4ec0;&#x4e48;&#x65f6;&#x5019;&#x4f7f;&#x7528; IntentService&#xff0c; &#x548c;&#x542f;&#x52a8;&#x4e00;&#x4e2a;&#x5f02;&#x6b65;&#x4efb;&#x52a1;&#x6709;&#x4ec0;&#x4e48;&#x533a;&#x522b;&#xff1f;" VSHIFT="37">
<node CREATED="1541666923093" ID="Freemind_Link_1376260526" MODIFIED="1541666973169" TEXT="AsyncTask &#x662f;&#x4e00;&#x4e2a;&#x7ebf;&#x7a0b;&#xff0c;&#x9002;&#x5408;&#x6267;&#x884c;&#x8f7b;&#x91cf;&#x7ea7;&#x4efb;&#x52a1;&#xa;IntentService &#x662f;&#x4e00;&#x4e2a;&#x4efb;&#x52a1;&#xff0c;&#x9ad8;&#x4f18;&#x5148;&#x7ea7;&#xff0c;&#x957f;&#x671f;&#x7684;&#x4efb;&#x52a1;&#x3002;"/>
</node>
</node>
<node CREATED="1541584858360" ID="Freemind_Link_1160626152" MODIFIED="1541584863001" POSITION="left" TEXT="&#x521b;&#x5efa;&#x5b50;&#x7ebf;&#x7a0b;">
<node CREATED="1541584863891" ID="Freemind_Link_509056245" MODIFIED="1541585100648" TEXT="1. &#x7ee7;&#x627f; Thread&#xa;MyThread extend Thread{&#xa; run&#xff08;&#xff09;&#xa;}&#xa;&#xa;Mythread.start()&#xa;---&#xa;2. &#x5b9e;&#x73b0; Runnalb &#x63a5;&#x53e3;&#xa;MyThread implements Runnable {&#xa;  run&#xff08;&#xff09;&#xa;}&#xa;new Thread&#xff08;mythread&#xff09;.start&#xff08;&#xff09;&#xff1b;&#xa;---&#xa;3. &#x533f;&#x540d;&#x7c7b;&#xa;new Thread&#xff08;new Runnable&#xff08;&#xff09;{&#xa;run&#xff08;&#xff09;&#xa;{&#xa;  do something&#xa;}&#xa;}&#xff09;.start&#xff08;&#xff09;&#xff1b;&#xa;"/>
</node>
<node CREATED="1541585160050" HGAP="23" ID="Freemind_Link_1675507501" MODIFIED="1541585174417" POSITION="left" TEXT="&#x5f02;&#x6b65;&#x6d88;&#x606f;&#x5904;&#x7406;&#x673a;&#x5236;" VSHIFT="92">
<icon BUILTIN="bookmark"/>
<node CREATED="1541585225747" ID="Freemind_Link_1556402854" MODIFIED="1541585438265" TEXT="&#x5728;&#x4e3b;&#x7ebf;&#x7a0b;&#x521b;&#x5efa; handler&#xff0c;&#x5e76;&#x628a;handler &#x4f20;&#x7ed9;&#x5b50;&#x7ebf;&#x7a0b;&#xff0c;&#x5b50;&#x7ebf;&#x7a0b;&#x901a;&#x8fc7;&#x8be5;handler &#x53d1;&#x6d88;&#x606f;&#x3002;&#xa;//&#x4e3b;&#x7ebf;&#x7a0b;&#xa;Handler myhandler = new Handler&#xff08;&#xff09; {&#xa;  handleMessage&#xff08;&#xff09;{do something}&#xa;}&#xa;&#xa;new Thread&#xff08;new Runnable&#xff08;&#xff09;{ myhandler.sendMessage&#xff08;&#xff09;}&#xff09;"/>
<node CREATED="1541585444399" ID="Freemind_Link_1919289855" MODIFIED="1541585687079" TEXT="Message&#xff0c; &#x643a;&#x5e26;&#x5c11;&#x91cf;&#x4fe1;&#x606f;&#xa;Handler&#xff0c; &#xa;MessageQueue&#xff0c;&#x6bcf;&#x4e2a;&#x7ebf;&#x7a0b;&#x53ea;&#x6709;&#x4e00;&#x4e2a;&#xa;&#xa;Looper &#x662f;&#x6bcf;&#x4e2a;&#x7ebf;&#x7a0b;&#x7684; MessageQueu &#x7684;&#x7ba1;&#x5bb6;&#x3002;&#x6bcf;&#x4e2a;&#x7ebf;&#x7a0b;&#x53ea;&#x6709;&#x4e00;&#x4e2a;&#x3002;&#xa;&#x5f53;&#x8c03;&#x7528;Looper.loop&#xff08;&#xff09;&#x65b9;&#x6cd5;&#x540e;&#xff0c;&#x5c31;&#x4f1a;&#x8fdb;&#x5165;&#x65e0;&#x9650;&#x5faa;&#x73af;&#xff0c;&#x53ea;&#x8981;MessageQueue&#x6709;&#xa;&#x6d88;&#x606f;&#xff0c;&#x5c31;&#x53d1;&#x9001;&#x7ed9; handler&#x3002; &#x6700;&#x7ec8;&#x8c03;&#x7528; handler.handleMessage&#xff08;&#xff09;&#xa;&#xa;" VSHIFT="46"/>
</node>
<node CREATED="1541585898605" HGAP="24" ID="Freemind_Link_632568204" MODIFIED="1541585907273" POSITION="left" TEXT="AsyncTask" VSHIFT="54">
<node CREATED="1541641479727" ID="Freemind_Link_762664817" MODIFIED="1541643236496" TEXT="&#x7ee7;&#x627f;AsyncTask&#xa;1. &#x6307;&#x5b9a;3&#x4e2a;&#x6cdb;&#x578b;&#x53c2;&#x6570;&#xa;&#xa;Params&#xff1a; &#x6267;&#x884c; AsyncTask &#x65f6;&#x4f20;&#x5165;&#x53c2;&#x6570;&#xa;Progress&#xff1a;&#x4efb;&#x52a1;&#x540e;&#x53f0;&#x6267;&#x884c;&#x7684;&#x8fdb;&#x5ea6;&#xa;Result&#xff1a;&#x4efb;&#x52a1;&#x6267;&#x884c;&#x5b8c;&#x6bd5;&#x540e;&#x7684;&#x7ed3;&#x679c;&#x3002;&#xa;&#xa;2. &#x91cd;&#x5199;&#x65b9;&#x6cd5;&#xa;2.1 onPreExecute&#xff08;&#xff09;&#xff1a;&#x4efb;&#x52a1;&#x6267;&#x884c;&#x524d;&#x7684;&#x521d;&#x59cb;&#x5316;&#x5de5;&#x4f5c;&#xa;2.2 doInBackground&#xff08;Params&#xff09;&#xff1a;&#x5e72;&#x6d3b;&#x7684;&#x5b50;&#x7ebf;&#x7a0b;&#x3002;&#x6240;&#x4ee5;&#x4e0d;&#x80fd;&#x66f4;&#x65b0;UI&#x3002;&#xa;  &#x53cd;&#x9988;&#x8fdb;&#x5ea6;&#xff0c;&#x7528;publishProgress&#xff08;&#xff09;&#x901a;&#x77e5;&#x4e3b;&#x7ebf;&#x7a0b;&#xa;2.3 onProgressUPdate&#xff08;Progress&#xff09;&#xa;  &#x5f53;&#x540e;&#x53f0;&#x4efb;&#x52a1;&#x8c03;&#x7528;&#x4e86; publishProgress&#xff08;&#xff09;&#xff0c; &#x5219;&#x8be5;&#x65b9;&#x6cd5;&#x4f1a;&#x88ab;&#x8c03;&#x7528;&#x3002;&#xa;  &#x8be5;&#x65b9;&#x6cd5;&#x53ef;&#x4ee5;&#x66f4;&#x65b0;UI&#xa;2.4 onPostExcute&#xff08;Result&#xff09;&#xa;  &#x540e;&#x53f0;&#x4efb;&#x52a1; &#x6267;&#x884c; return &#x65f6;&#xff0c;&#x672c;&#x65b9;&#x6cd5;&#x4f1a;&#x88ab;&#x8c03;&#x7528;&#xa;&#xa;&#xa;&#xa;&#x4f8b;&#x5982;&#xff0c;&#x4e00;&#x4e2a;&#x4e0b;&#x8f7d;&#x7684;&#x5f02;&#x6b65;&#x4efb;&#x52a1;&#xa;class DownLoadTask extends AsyncTask&lt;void, int, boolean&gt;{}&#xa;"/>
</node>
</node>
</map>
